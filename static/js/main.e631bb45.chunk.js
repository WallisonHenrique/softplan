(this.webpackJsonpsoftplan=this.webpackJsonpsoftplan||[]).push([[0],{76:function(t,e,n){t.exports=n(91)},90:function(t,e,n){},91:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),l=n(69),i=n.n(l),o=n(24),c=n(10),u=n(26),m=n(4),d=n(8);function p(){var t=Object(m.a)(["\n\tborder: 0;\n\tclip: rect(0,0,0,0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n"]);return p=function(){return t},t}function f(){var t=Object(m.a)(["\n\tborder: 1px solid #ddd;\n\tborder-radius: 2px;\n\tfont-size: 14px;\n\theight: 40px;\n\tpadding: 10px;\n\twidth: 100%;\n"]);return f=function(){return t},t}function s(){var t=Object(m.a)(["\n\tpadding: 20px 20px 10px;\n"]);return s=function(){return t},t}var b=d.a.form(s()),v=d.a.input(f()),g=d.a.label(p());function E(t){var e=t.search,n=Object(a.useState)(""),l=Object(u.a)(n,2),i=l[0],o=l[1];return r.a.createElement(b,{"data-testid":"search",onSubmit:function(t){t.preventDefault(),e(i)}},r.a.createElement(g,{htmlFor:"term"},"Pesquisar por pa\xeds"),r.a.createElement(v,{onChange:function(t){return o(t.target.value)},type:"text",placeholder:"Pesquisar por pa\xeds...",value:i,id:"term"}))}function x(){var t=Object(m.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tpadding: 10px 15px 15px;\n"]);return x=function(){return t},t}var h=d.a.div(x());function O(){var t=Object(m.a)(["\n\tfont-size: 16px;\n"]);return O=function(){return t},t}function j(){var t=Object(m.a)(["\n\tfont-size: 16px;\n"]);return j=function(){return t},t}function y(){var t=Object(m.a)(["\n\theight: 33px;\n\tmargin-right: 10px;\n\tvertical-align: middle;\n\twidth: 50px;\n"]);return y=function(){return t},t}function w(){var t=Object(m.a)(["\n\tflex: 50%;\n\tpadding: 5px;\n\n\t@media (max-width: 767px) {\n\t\tflex: 100%;\n\t}\n\n\ta {\n\t\tbackground-color: #fcfcfc;\n\t\tborder: 1px solid #ddd;\n\t\tborder-radius: 2px;\n\t\tcolor: #000;\n\t\tdisplay: flex;\n\t\tpadding: 10px;\n\t\ttext-decoration: none;\n\t}\n"]);return w=function(){return t},t}var C=d.a.article(w()),F=d.a.img(y()),L=d.a.h2(j()),D=d.a.p(O());function k(t){var e=t.country,n=e.nameTranslations[0].value,a=e.flag,l=e.capital,i=e._id;return r.a.createElement(C,{"data-testid":"card"},r.a.createElement(o.b,{"data-testid":"link-details",to:"/softplan/".concat(i)},r.a.createElement("div",null,r.a.createElement(F,{src:a.svgFile,alt:" Bandeira ".concat(n," ")})),r.a.createElement("div",null,r.a.createElement(L,null,n),r.a.createElement(D,null,l))))}function T(){var t=Object(m.a)(["\n\tpadding: 20px;\n"]);return T=function(){return t},t}var q=d.a.p(T());function P(t){var e=t.children;return r.a.createElement(q,null,e)}function z(t){var e=t.loading,n=t.error,a=t.data;return e?r.a.createElement(P,null,"Carregando..."):n?r.a.createElement(P,null,"Falha :("):void 0===a?r.a.createElement(P,null,"Carregando..."):0===a.list.length?r.a.createElement(P,null,"Pa\xeds n\xe3o encontrado. Tente novamente."):r.a.createElement(h,{"data-testid":"list"},a.list.map((function(t,e){return r.a.createElement(k,{key:e,country:t})})))}var _=n(12);function Q(){var t=Object(m.a)(["\n  query {\n    details\n  }\n"]);return Q=function(){return t},t}function S(){var t=Object(m.a)(["\n  query {\n    list @client\n  }\n"]);return S=function(){return t},t}function V(){var t=Object(m.a)(['\n  query {\n    Country {\n       _id,\n      capital,\n      nameTranslations(filter: { languageCode_in: ["pt"]}) {\n        value\n      },\n      flag {\n        svgFile\n      },\n      area,\n      population,\n      topLevelDomains {\n        name\n      }\n    }\n  }\n']);return V=function(){return t},t}var B=Object(_.gql)(V()),A=Object(_.gql)(S()),I=Object(_.gql)(Q());function J(){var t=Object(_.useLazyQuery)(A,{variables:{term:""}}),e=Object(u.a)(t,2),n=e[0],l=e[1],i=l.error,o=l.loading,c=l.data;Object(a.useEffect)((function(){n()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{search:function(t){n({variables:{term:t}})}}),r.a.createElement(z,{loading:o,error:i,data:c}))}function M(){var t=Object(m.a)(["\n\tborder-bottom: 1px solid #000;\n\tfont-weight: bold;\n\tpadding: 5px;\n"]);return M=function(){return t},t}function N(){var t=Object(m.a)(["\n\tborder-bottom: 1px solid #000;\n\tfont-weight: normal;\n\tpadding: 5px;\n"]);return N=function(){return t},t}function R(){var t=Object(m.a)(["\n\tborder-spacing: initial;\n\tmargin-bottom: 10px;\n\ttext-align: left;\n\twidth: 100%;\n"]);return R=function(){return t},t}function G(){var t=Object(m.a)(["\n\tfont-size: 22px;\n\tmargin-bottom: 10px;\n\ttext-transform: uppercase;\n"]);return G=function(){return t},t}function H(){var t=Object(m.a)(["\n\tmargin-bottom: 20px;\n\tmargin-top: 10px;\n\ttext-align: center;\n\n\timg {\n\t\tmax-width: 100%;\n\t\twidth: 400px;\n\t}\n"]);return H=function(){return t},t}function K(){var t=Object(m.a)(["\n\tmargin: 0 auto;\n\tmax-width: 700px;\n\tpadding: 15px;\n"]);return K=function(){return t},t}var U=d.a.article(K()),W=d.a.div(H()),X=d.a.h2(G()),Y=d.a.table(R()),Z=d.a.th(N()),$=d.a.td(M());function tt(t){var e=t.match,n=Object(_.useLazyQuery)(I,{variables:{id:e.params.id}}),l=Object(u.a)(n,2),i=l[0],c=l[1],m=c.error,d=c.loading,p=c.data;if(Object(a.useEffect)((function(){i()}),[]),d)return r.a.createElement(P,null,"Carregando...");if(m)return r.a.createElement(P,null,"Falha :(");if(void 0===p)return r.a.createElement(P,null,"Carregando...");if(0===p.details.length)return r.a.createElement(P,null,"Pa\xeds n\xe3o encontrado. Tente novamente. ",r.a.createElement("br",null),r.a.createElement(o.b,{to:"/softplan"},"Voltar"));var f=p.details.nameTranslations[0].value,s=p.details,b=s.flag,v=s.capital,g=s.area,E=s.population,x=s.topLevelDomains;return r.a.createElement(U,null,r.a.createElement(o.b,{to:"/softplan"},"Voltar"),r.a.createElement(W,null,r.a.createElement("img",{src:b.svgFile,alt:" Bandeira ".concat(f," ")})),r.a.createElement(X,null,f),r.a.createElement(Y,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement(Z,null,"Capital"),r.a.createElement($,null,v)),r.a.createElement("tr",null,r.a.createElement(Z,null,"\xc1rea"),r.a.createElement($,null,g," km\xb2")),r.a.createElement("tr",null,r.a.createElement(Z,null,"Popula\xe7\xe3o"),r.a.createElement($,null,E)),r.a.createElement("tr",null,r.a.createElement(Z,null,"Dom\xednio de topo"),r.a.createElement($,null,x[0].name)))),r.a.createElement(o.b,{to:"/softplan/editar/".concat(e.params.id)},"Editar"))}var et=n(75);function nt(){var t=Object(m.a)(["\n\tmargin: 0 auto;\n\tmax-width: 700px;\n\tpadding: 15px;\n"]);return nt=function(){return t},t}var at=d.a.div(nt()),rt=Object(_.makeVar)([]),lt=new _.InMemoryCache({typePolicies:{Query:{fields:{list:{read:function(t,e){var n=e.variables;return rt().filter((function(t){return t.nameTranslations[0].value.toLowerCase().indexOf(n.term.toLowerCase())>=0}))}},details:{read:function(t,e){var n=e.variables,a=rt().find((function(t){return t._id===n.id}));return a||[]}}}}}}),it=new _.ApolloClient({uri:"https://countries-274616.ew.r.appspot.com",cache:lt}),ot=n(47),ct=n(25);function ut(){var t=Object(m.a)(["\n\tbackground-color: #000;\n\tborder: none;\n\tborder-radius: 2px;\n\tcolor: #fff;\n\tcursor: pointer;\n\theight: 40px;\n    padding: 5px 10px;\n    width: 100%;\n"]);return ut=function(){return t},t}function mt(){var t=Object(m.a)(["\n\theight: 40px;\n    padding: 5px 10px;\n    width: 100%;\n"]);return mt=function(){return t},t}function dt(){var t=Object(m.a)(["\n\tdisplay: block;\n\tmargin-bottom: 5px;\n"]);return dt=function(){return t},t}function pt(){var t=Object(m.a)(["\n\tmargin-bottom: 15px;\n"]);return pt=function(){return t},t}function ft(){var t=Object(m.a)(["\n\tmargin: 0 auto;\n\tpadding: 15px;\n    max-width: 500px;\n"]);return ft=function(){return t},t}var st=d.a.form(ft()),bt=d.a.div(pt()),vt=d.a.label(dt()),gt=d.a.input(mt()),Et=d.a.button(ut());function xt(t){var e=t.country,n=t.edit,l=e.nameTranslations[0].value,i=e.flag,o=e.capital,c=e.area,m=e.population,d=e.topLevelDomains,p=Object(a.useReducer)((function(t,e){return Object(ct.a)(Object(ct.a)({},t),e)}),{flag:i.svgFile,name:l,capital:o,area:c,population:m,topLevelDomains:d[0].name}),f=Object(u.a)(p,2),s=f[0],b=f[1],v={onChange:function(t){return b(Object(ot.a)({},t.target.name,t.target.value))},required:!0},g=[{label:"Bandeira",attrs:{name:"flag",type:"text",value:s.flag}},{label:"Nome",attrs:{name:"name",type:"text",value:s.name}},{label:"Capital",attrs:{name:"capital",type:"text",value:s.capital}},{label:"\xc1rea km\xb2",attrs:{name:"area",type:"number",value:s.area}},{label:"Popula\xe7\xe3o",attrs:{name:"population",type:"number",value:s.population}},{label:"Dom\xednio de topo",attrs:{name:"topLevelDomains",type:"text",value:s.topLevelDomains}}];return r.a.createElement(st,{"data-testid":"edit",onSubmit:function(t){var a=Object(ct.a)(Object(ct.a)({},e),{},{nameTranslations:[Object(ct.a)(Object(ct.a)({},e.nameTranslations[0]),{},{value:s.name})],flag:Object(ct.a)(Object(ct.a)({},i),{},{svgFile:s.flag}),topLevelDomains:[Object(ct.a)(Object(ct.a)({},d[0]),{},{name:s.topLevelDomains})],capital:s.capital,area:s.area,population:s.population});n(a),t.preventDefault()}},g.map((function(t,e){return r.a.createElement(bt,{key:e},r.a.createElement(vt,{htmlFor:t.attrs.name},t.label,":"),r.a.createElement(gt,Object.assign({"data-testid":"edit-input-".concat(t.attrs.name),id:t.attrs.name},t.attrs,v)))})),r.a.createElement(Et,null,"Salvar"))}function ht(t){var e=t.match,n=t.history,l=Object(_.useLazyQuery)(I,{variables:{id:e.params.id}}),i=Object(u.a)(l,2),c=i[0],m=i[1],d=m.error,p=m.loading,f=m.data;if(Object(a.useEffect)((function(){c()}),[]),p)return r.a.createElement(P,null,"Carregando...");if(d)return r.a.createElement(P,null,"Falha :(");if(void 0===f)return r.a.createElement(P,null,"Carregando...");if(0===f.details.length)return r.a.createElement(P,null,"Pa\xeds n\xe3o encontrado. Tente novamente. ",r.a.createElement("br",null),r.a.createElement(o.b,{to:"/softplan"},"Voltar"));return r.a.createElement(at,null,r.a.createElement(o.b,{to:"/softplan"},"Voltar"),r.a.createElement(xt,{country:f.details,edit:function(t){var e=rt().map((function(e){return e._id===t._id?t:e}));rt(Object(et.a)(e)),n.push("/softplan")}}))}function Ot(){return r.a.createElement(o.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/softplan",exact:!0,component:J}),r.a.createElement(c.b,{path:"/softplan/:id",exact:!0,render:function(t){var e=t.match;return r.a.createElement(tt,{match:e})}}),r.a.createElement(c.b,{path:"/softplan/editar/:id",render:function(t){return r.a.createElement(ht,t)}}),r.a.createElement(c.a,{to:"/softplan"})))}function jt(){var t=Object(_.useQuery)(B),e=t.loading,n=t.error,a=t.data;return e?r.a.createElement(P,null,"Carregando..."):n?r.a.createElement(P,null,"Falha :("):(rt(a.Country),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,null)))}n(90);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_.ApolloProvider,{client:it},r.a.createElement(jt,null))),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.e631bb45.chunk.js.map